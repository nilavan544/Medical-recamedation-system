<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MyhealthMate</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  </head>
  <body>
  <style>
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .logo{
      width:50px;
      height:50px;
      color:black;
      margin-top:0;
      margin-left:2;
    }
    .image{
      width:20px;
      height:20px;
      color:block;
      border:2px solid block;
      border-radius:25px;
    }
    .custom-select {
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 0.95rem;
    }
    .custom-select option {
      padding: 10px;
      margin: 2px;
      border-radius: 4px;
    }
    .custom-select option:hover {
      background-color: #f0f0f0;
    }
    .custom-select option:checked {
      background-color: #0d6efd;
      color: white;
    }
    #symptomSearch {
      border-radius: 8px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: rgba(255, 255, 255, 0.9);
    }
      .result-container{
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        padding: 20px;
      }
      .toggle-button {
        flex: 0 0 140px;
        margin: 5px !important;
      }
  </style>
  <!--this is navbar-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
   <div class="logo">
    <img src="{{ url_for('static', filename='image.png') }}" alt="My Logo" width="50">
</div>

    <a class="navbar-brand" href="#"><h4>MyhealthMate</h4></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
         <a class="nav-link active" href="/">Home</a>

        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
       <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
       <li class="nav-item">
          <a class="nav-link" href="/developer">Developer</a>
        </li>
       <li class="nav-item">
          <a class="nav-link" href="/blog">Blog</a>
        </li>

      </ul>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"/>
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
  </div>
</nav>
    <h1 class="text-center my-3">My Health Mate</h1>
    <div class="container mt-2 mb-4" style="background:black;color:white;border-radius:15px;padding:20px;max-width:800px;margin:0 auto;">
        <form action="/predict" method="post">
          <div class="form-group">
               <div class="d-flex justify-content-between align-items-center mb-2">
                   <label for="symptoms" class="h5 mb-0">Select Multiple Symptoms</label>
                   <small class="text-light">(Hold Ctrl/Cmd key to select multiple symptoms)</small>
               </div>
               <div class="mb-3">
                   <input type="text" class="form-control" id="symptomSearch" placeholder="Search symptoms...">
               </div>
               <select class="form-select custom-select" name="symptoms" id="symptoms" required multiple style="height:250px;max-height:50vh;overflow-y:auto;">
                   <option value="" disabled>Choose symptoms</option>
                   <option value="itching">Itching</option>
                   <option value="skin_rash">Skin Rash</option>
                   <option value="nodal_skin_eruptions">Nodal Skin Eruptions</option>
                   <option value="continuous_sneezing">Continuous Sneezing</option>
                   <option value="shivering">Shivering</option>
                   <option value="chills">Chills</option>
                   <option value="joint_pain">Joint Pain</option>
                   <option value="stomach_pain">Stomach Pain</option>
                   <option value="acidity">Acidity</option>
                   <option value="ulcers_on_tongue">Ulcers on Tongue</option>
                   <option value="muscle_wasting">Muscle Wasting</option>
                   <option value="vomiting">Vomiting</option>
                   <option value="burning_micturition">Burning Micturition</option>
                   <option value="spotting_ urination">Spotting Urination</option>
                   <option value="fatigue">Fatigue</option>
                   <option value="weight_gain">Weight Gain</option>
                   <option value="anxiety">Anxiety</option>
                   <option value="cold_hands_and_feets">Cold Hands and Feet</option>
                   <option value="mood_swings">Mood Swings</option>
                   <option value="weight_loss">Weight Loss</option>
                   <option value="restlessness">Restlessness</option>
                   <option value="lethargy">Lethargy</option>
                   <option value="patches_in_throat">Patches in Throat</option>
                   <option value="irregular_sugar_level">Irregular Sugar Level</option>
                   <option value="cough">Cough</option>
                   <option value="high_fever">High Fever</option>
                   <option value="sunken_eyes">Sunken Eyes</option>
                   <option value="breathlessness">Breathlessness</option>
                   <option value="sweating">Sweating</option>
                   <option value="dehydration">Dehydration</option>
                   <option value="indigestion">Indigestion</option>
                   <option value="headache">Headache</option>
                   <option value="yellowish_skin">Yellowish Skin</option>
                   <option value="dark_urine">Dark Urine</option>
                   <option value="nausea">Nausea</option>
                   <option value="loss_of_appetite">Loss of Appetite</option>
                   <option value="pain_behind_the_eyes">Pain Behind the Eyes</option>
                   <option value="back_pain">Back Pain</option>
                   <option value="constipation">Constipation</option>
                   <option value="abdominal_pain">Abdominal Pain</option>
                   <option value="diarrhoea">Diarrhoea</option>
                   <option value="mild_fever">Mild Fever</option>
                   <option value="yellow_urine">Yellow Urine</option>
                   <option value="yellowing_of_eyes">Yellowing of Eyes</option>
                   <option value="acute_liver_failure">Acute Liver Failure</option>
                   <option value="fluid_overload">Fluid Overload</option>
                   <option value="swelling_of_stomach">Swelling of Stomach</option>
                   <option value="swelled_lymph_nodes">Swelled Lymph Nodes</option>
                   <option value="malaise">Malaise</option>
                   <option value="blurred_and_distorted_vision">Blurred and Distorted Vision</option>
                   <option value="phlegm">Phlegm</option>
                   <option value="throat_irritation">Throat Irritation</option>
                   <option value="redness_of_eyes">Redness of Eyes</option>
                   <option value="sinus_pressure">Sinus Pressure</option>
                   <option value="runny_nose">Runny Nose</option>
                   <option value="congestion">Congestion</option>
                   <option value="chest_pain">Chest Pain</option>
                   <option value="weakness_in_limbs">Weakness in Limbs</option>
                   <option value="fast_heart_rate">Fast Heart Rate</option>
                   <option value="pain_during_bowel_movements">Pain During Bowel Movements</option>
                   <option value="pain_in_anal_region">Pain in Anal Region</option>
                   <option value="bloody_stool">Bloody Stool</option>
                   <option value="irritation_in_anus">Irritation in Anus</option>
                   <option value="neck_pain">Neck Pain</option>
                   <option value="dizziness">Dizziness</option>
                   <option value="cramps">Cramps</option>
                   <option value="bruising">Bruising</option>
                   <option value="obesity">Obesity</option>
                   <option value="swollen_legs">Swollen Legs</option>
                   <option value="swollen_blood_vessels">Swollen Blood Vessels</option>
                   <option value="puffy_face_and_eyes">Puffy Face and Eyes</option>
                   <option value="enlarged_thyroid">Enlarged Thyroid</option>
                   <option value="brittle_nails">Brittle Nails</option>
                   <option value="swollen_extremeties">Swollen Extremities</option>
                   <option value="excessive_hunger">Excessive Hunger</option>
                   <option value="extra_marital_contacts">Extra Marital Contacts</option>
                   <option value="drying_and_tingling_lips">Drying and Tingling Lips</option>
                   <option value="slurred_speech">Slurred Speech</option>
                   <option value="knee_pain">Knee Pain</option>
                   <option value="hip_joint_pain">Hip Joint Pain</option>
                   <option value="muscle_weakness">Muscle Weakness</option>
                   <option value="stiff_neck">Stiff Neck</option>
                   <option value="swelling_joints">Swelling Joints</option>
                   <option value="movement_stiffness">Movement Stiffness</option>
                   <option value="spinning_movements">Spinning Movements</option>
                   <option value="loss_of_balance">Loss of Balance</option>
                   <option value="unsteadiness">Unsteadiness</option>
                   <option value="weakness_of_one_body_side">Weakness of One Body Side</option>
                   <option value="loss_of_smell">Loss of Smell</option>
                   <option value="bladder_discomfort">Bladder Discomfort</option>
                   <option value="foul_smell_of urine">Foul Smell of Urine</option>
                   <option value="continuous_feel_of_urine">Continuous Feel of Urine</option>
                   <option value="passage_of_gases">Passage of Gases</option>
                   <option value="internal_itching">Internal Itching</option>
                   <option value="toxic_look_(typhos)">Toxic Look (Typhos)</option>
                   <option value="depression">Depression</option>
                   <option value="irritability">Irritability</option>
                   <option value="muscle_pain">Muscle Pain</option>
                   <option value="altered_sensorium">Altered Sensorium</option>
                   <option value="red_spots_over_body">Red Spots Over Body</option>
                   <option value="belly_pain">Belly Pain</option>
                   <option value="abnormal_menstruation">Abnormal Menstruation</option>
                   <option value="dischromic _patches">Dischromic Patches</option>
                   <option value="watering_from_eyes">Watering from Eyes</option>
                   <option value="increased_appetite">Increased Appetite</option>
                   <option value="polyuria">Polyuria</option>
                   <option value="family_history">Family History</option>
                   <option value="mucoid_sputum">Mucoid Sputum</option>
                   <option value="rusty_sputum">Rusty Sputum</option>
                   <option value="lack_of_concentration">Lack of Concentration</option>
                   <option value="visual_disturbances">Visual Disturbances</option>
                   <option value="receiving_blood_transfusion">Receiving Blood Transfusion</option>
                   <option value="receiving_unsterile_injections">Receiving Unsterile Injections</option>
                   <option value="coma">Coma</option>
                   <option value="stomach_bleeding">Stomach Bleeding</option>
                   <option value="distention_of_abdomen">Distention of Abdomen</option>
                   <option value="history_of_alcohol_consumption">History of Alcohol Consumption</option>
                   <option value="blood_in_sputum">Blood in Sputum</option>
                   <option value="prominent_veins_on_calf">Prominent Veins on Calf</option>
                   <option value="palpitations">Palpitations</option>
                   <option value="painful_walking">Painful Walking</option>
                   <option value="pus_filled_pimples">Pus Filled Pimples</option>
                   <option value="blackheads">Blackheads</option>
                   <option value="scurring">Scurring</option>
                   <option value="skin_peeling">Skin Peeling</option>
                   <option value="silver_like_dusting">Silver Like Dusting</option>
                   <option value="small_dents_in_nails">Small Dents in Nails</option>
                   <option value="inflammatory_nails">Inflammatory Nails</option>
                   <option value="blister">Blister</option>
                   <option value="red_sore_around_nose">Red Sore Around Nose</option>
                   <option value="yellow_crust_ooze">Yellow Crust Ooze</option>
               </select>
           </div>
           <br>
            <button class="btn btn-danger" style="width:100%; padding:14px;margin-bottom:5px;">Recommendations</button>
        </form>
    </div>
    {% if predicted_diseases %}
    <h1 class="text-center mt-4 my-4">Our AI Docter Result</h1>
    <div class="result-container">
    <button class="toggle-button btn" data-bs-toggle="modal" data-bs-target="#diseaseModal"
    style="font-size:16px; font-weight:bold; border-radius:5px; background:yellow; color:black;">Disease</button>

    <button class="toggle-button btn" data-bs-toggle="modal" data-bs-target="#descriptionModel"
    style="font-size:16px; font-weight:bold; border-radius:5px; background:lightgreen; color:black;">Description</button>

    <button class="toggle-button btn" data-bs-toggle="modal" data-bs-target="#precautionModel"
    style="font-size:16px; font-weight:bold; border-radius:5px; background:skyblue; color:black;">Precaution</button>

    <button class="toggle-button btn" data-bs-toggle="modal" data-bs-target="#medicationsModel"
    style="font-size:16px; font-weight:bold; border-radius:5px; background:pink; color:black;">Medications</button>

    <button class="toggle-button btn" data-bs-toggle="modal" data-bs-target="#workoutModel"
    style="font-size:16px; font-weight:bold; border-radius:5px; background:mediumpurple; color:white;">Workout</button>

    <button class="toggle-button btn" data-bs-toggle="modal" data-bs-target="#dietsModel"
    style="font-size:16px; font-weight:bold; border-radius:5px; background:orange; color:black;">Diets</button>
    </div>
  {% endif %}
  <div class="modal fade" id="diseaseModal" tabindex="-1" aria-labelledby="diseaseModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #020606; color:white;"> <!-- Set header background color inline -->
                    <h5 class="modal-title" id="diseaseModalLabel">Predicted Disease</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color: #f8f9fa;">
                    <p class="fs-5">{{ predicted_diseases }}</p>
                </div>
            </div>
        </div>
    </div>
   <div class="modal fade" id="descriptionModel" tabindex="-1" aria-labelledby="descriptionModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #020606; color:white;"> <!-- Set header background color inline -->
                    <h5 class="modal-title" id="descriptionModalLabel">Predicted Disease</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color: #f8f9fa;">
                    <p>{{dis_des }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="precautionModel" tabindex="-1" aria-labelledby="precautionModelLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #020606; color:white;"> <!-- Set header background color inline -->
                    <h5 class="modal-title" id="precautionModelLabel">Predicted Disease</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color: #f8f9fa;">
                   <ul>
                        {% for i in dis_pre %}
                            <li>{{ i }}</li>
                        {% endfor %}
                   </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="medicationsModel" tabindex="-1" aria-labelledby="medicationsModelLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #020606; color:white;"> <!-- Set header background color inline -->
                    <h5 class="modal-title" id="medicationsModelLabel">Predicted Disease</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color: #modal-body-color;"> <!-- Set modal body background color inline -->
                    <ul>
                        {% for i in med %}
                            <li>{{ i }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="workoutModel" tabindex="-1" aria-labelledby="workoutModelLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #020606; color:white;"> <!-- Set header background color inline -->
                    <h5 class="modal-title" id="workoutModelLabel">Predicted Disease</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color: #modal-body-color;"> <!-- Set modal body background color inline -->
                       <ul>
                        {% for i in dis_wrkout%}
                            <li>{{ i }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dietsModel" tabindex="-1" aria-labelledby="dietsModelLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #020606; color:white;"> <!-- Set header background color inline -->
                    <h5 class="modal-title" id="dietsModelLabel">Predicted Disease</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="background-color: #modal-body-color;"> <!-- Set modal body background color inline -->
                       <ul>
                        {% for i in die %}
                            <li>{{i}}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('symptomSearch');
        const symptomsSelect = document.getElementById('symptoms');
        const options = Array.from(symptomsSelect.options);

        searchInput.addEventListener('input', function(e) {
            const searchText = e.target.value.toLowerCase();
            
            // Store currently selected options
            const selectedOptions = Array.from(symptomsSelect.selectedOptions).map(option => option.value);
            
            // Clear current options
            symptomsSelect.innerHTML = '';
            
            // Filter and add options back
            options.forEach(option => {
                if (option.text.toLowerCase().includes(searchText)) {
                    const newOption = option.cloneNode(true);
                    // Maintain selection state
                    if (selectedOptions.includes(newOption.value)) {
                        newOption.selected = true;
                    }
                    symptomsSelect.appendChild(newOption);
                }
            });
        });
    });
    </script>
  </body>
</html>